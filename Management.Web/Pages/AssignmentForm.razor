@page "/course/{CourseName}/assignment/{AssignmentId}"
@using CanvasModel.EnrollmentTerms
@using Management.Web.Shared.Course
@using Management.Web.Shared.Module.Assignment.Templates
@using Management.Web.Shared.Semester
@using CanvasModel.Courses
@using Microsoft.AspNetCore.Components.Server.ProtectedBrowserStorage
@using LocalModels
@using Management.Web.Shared.Module.Assignment
@using Management.Web.Shared.Components

@inject YamlManager yamlManager
@inject CanvasService canvas
@inject CoursePlanner planner

@code {
  [Parameter]
  public string CourseName { get; set; }
  [Parameter]
  public string AssignmentId { get; set; }
  
  protected override async Task OnInitializedAsync()
  {
    if(planner.LocalCourse == null)
    {
      var courses = await yamlManager.LoadSavedCourses();
      planner.LocalCourse = courses.First(c => c.Name == CourseName);
    }
    base.OnInitialized();
    @* loading = false; *@ 
  }

}